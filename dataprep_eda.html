
<h2>Data Collection</h2>
<br/>

<p>This project requires a large amount of used vehicle data and state information. For this purpose, we planned to collect data from one of the large online platforms for selling used vehicles, such as Cargurus and Carmax, to obtain vehicle price information as well as various characteristics of used cars. However, most of these platforms do not provide APIs; even if they did, it would require a partnership. For this reason, we decided to collect data through web scraping. In order to collect large amounts of data through web scraping, i.e., scraping a large number of web pages, we continuously make data requests to web servers and collect the data that is responded to. However, for the similar repetitive requests from a given client, the web server detects the bot's activity and blocks the user from accessing it. Eventually, we utilized Selenium to bypass these blocks by performing browser and user interface-like activities on the website, making distinguishing it from a web scraping bot difficult. The code below utilizes Selenium to scrape a webpage.</p>

<p>
    <a class="btn btn-secondary" data-toggle="collapse" href="#collapseCode001" role="button" aria-expanded="false" aria-controls="collapseExample">
      View Code &nbsp;&nbsp;<a href="https://github.com/JihoonYun/ds/blob/main/src/Webscraping.R" target="_blank">[Link full code]</a>
    </a>
  </p>
  <div class="collapse" id="collapseCode001">
    <div class="card card-body" width="1300">
        <div class="colorscripter-code" style="white-space:normal;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto; font-size: 10px;"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">#&nbsp;Libraries</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">library(tidyverse)</div><div style="padding:0 6px; white-space:pre; line-height:130%">library(httr)</div><div style="padding:0 6px; white-space:pre; line-height:130%">library(RSelenium)</div><div style="padding:0 6px; white-space:pre; line-height:130%">library(rvest)</div><div style="padding:0 6px; white-space:pre; line-height:130%">library(stringr)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">########################################################################################################</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">#&nbsp;Collection&nbsp;of&nbsp;zipcode&nbsp;information&nbsp;for&nbsp;representative&nbsp;regions&nbsp;of&nbsp;the&nbsp;United&nbsp;States</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">########################################################################################################</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">##Selenium</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">remDr&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;remoteDriver(remoteServerAddr<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span><span style="color:#63a35c">"localhost"</span>,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;port<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>4445L,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;browserName<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span><span style="color:#63a35c">"chrome"</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">remDr$open()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">#&nbsp;URL</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">zipcode_url&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;<span style="color:#63a35c">'https://www.edq.com/resources/glossary/zip-codes-of-major-cities-in-the-united-states/'</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">remDr$navigate(zipcode_url)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">#&nbsp;Scraping&nbsp;html&nbsp;code&nbsp;from&nbsp;the&nbsp;html&nbsp;page</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">web&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;remDr$getPageSource()[[<span style="color:#0099cc">1</span>]]&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%&nbsp;read_html()&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">#&nbsp;Collecting&nbsp;zipcodes</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">zipcode_strs&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;web&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;html_elements(<span style="color:#63a35c">".BulletListStyle1&nbsp;.NormalTextRun"</span>)&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;html_text()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">#&nbsp;Initialize&nbsp;an&nbsp;empty&nbsp;vector&nbsp;to&nbsp;store&nbsp;the&nbsp;extracted&nbsp;zipcodes</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">extracted_zipcodes&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;numeric(length(zipcode_strs))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">#&nbsp;Loop&nbsp;through&nbsp;each&nbsp;string&nbsp;in&nbsp;the&nbsp;array</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">for</span>&nbsp;(i&nbsp;<span style="color:#a71d5d">in</span>&nbsp;<span style="color:#0099cc">1</span>:length(zipcode_strs))&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Extract&nbsp;the&nbsp;first&nbsp;5&nbsp;digits&nbsp;from&nbsp;the&nbsp;string&nbsp;if&nbsp;they&nbsp;are&nbsp;numeric</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;(grepl(<span style="color:#63a35c">"^\\d{5}"</span>,&nbsp;zipcode_strs[i]))&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;extracted_zipcode&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;substr(zipcode_strs[i],&nbsp;<span style="color:#0099cc">1</span>,&nbsp;<span style="color:#0099cc">5</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">print</span>(extracted_zipcode)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;extracted_zipcodes[i]&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;extracted_zipcode</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">extracted_zipcodes&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;extracted_zipcodes[extracted_zipcodes&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">!</span><span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#0099cc">0</span>]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">########################################################################################################</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">#&nbsp;Collect&nbsp;used&nbsp;vehicle&nbsp;data&nbsp;from&nbsp;www.cargurus.com</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">########################################################################################################</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">##Variables</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">base_url&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;<span style="color:#63a35c">'https://www.cargurus.com/Cars/inventorylisting/viewDetailsFilterViewInventoryListing.action?sourceContext=carGurusHomePageModel&amp;entitySelectingHelper.selectedEntity=&amp;zip=__ZIP__#resultsPage=__PAGE__'</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">#&nbsp;Run&nbsp;Selenium</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">remDr&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;remoteDriver(</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;remoteServerAddr&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#63a35c">"localhost"</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;port&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;4445L,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;browserName&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#63a35c">"chrome"</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;extraCapabilities&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;list(</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;chromeOptions&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;list(</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;args&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;list(<span style="color:#63a35c">'--headless'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;)</div><div style="padding:0 6px; white-space:pre; line-height:130%">)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">remDr&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;remoteDriver(remoteServerAddr&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#63a35c">"localhost"</span>,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;port&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;4445L,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;browserName&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#63a35c">"chrome"</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">remDr$open()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">remDr$navigate(<span style="color:#63a35c">'https://www.cargurus.com'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">#&nbsp;Define&nbsp;a&nbsp;data&nbsp;frame&nbsp;to&nbsp;store&nbsp;the&nbsp;data&nbsp;to&nbsp;be&nbsp;collected</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">df&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;data.frame(</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;zipcode&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;numeric(<span style="color:#0099cc">0</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;name&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;character(<span style="color:#0099cc">0</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;price&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;numeric(<span style="color:#0099cc">0</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;mileage&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;numeric(<span style="color:#0099cc">0</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;city&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;character(<span style="color:#0099cc">0</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;state&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;character(<span style="color:#0099cc">0</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;year&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;numeric(<span style="color:#0099cc">0</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;make&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;character(<span style="color:#0099cc">0</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;model&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;character(<span style="color:#0099cc">0</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;body&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;character(<span style="color:#0099cc">0</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;doors&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;character(<span style="color:#0099cc">0</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;drivetrain&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;character(<span style="color:#0099cc">0</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;engine&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;character(<span style="color:#0099cc">0</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;color&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;character(<span style="color:#0099cc">0</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;fuel&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;character(<span style="color:#0099cc">0</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;transmission&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;character(<span style="color:#0099cc">0</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">#&nbsp;Define&nbsp;the&nbsp;page&nbsp;range</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">start_page&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;<span style="color:#0099cc">1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">end_page&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;<span style="color:#0099cc">1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">#&nbsp;Loop&nbsp;to&nbsp;generate&nbsp;and&nbsp;print&nbsp;URLs</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">for</span>&nbsp;(extracted_zipcode&nbsp;<span style="color:#a71d5d">in</span>&nbsp;extracted_zipcodes)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Substitute&nbsp;the&nbsp;ZIP&nbsp;code&nbsp;into&nbsp;the&nbsp;URL</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;url_1&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;str_replace(base_url,&nbsp;<span style="color:#63a35c">'__ZIP__'</span>,&nbsp;extracted_zipcode)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#066de2">print</span>(extracted_zipcode)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#a71d5d">for</span>&nbsp;(page&nbsp;<span style="color:#a71d5d">in</span>&nbsp;start_page:end_page)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Substitute&nbsp;the&nbsp;page&nbsp;number&nbsp;into&nbsp;the&nbsp;URL</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;url&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;str_replace(url_1,&nbsp;<span style="color:#63a35c">'__PAGE__'</span>,&nbsp;<span style="color:#a71d5d">as</span>.character(page))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;remDr$navigate(url)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#Sys.sleep(1)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;web&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;remDr$getPageSource()[[<span style="color:#0099cc">1</span>]]&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%&nbsp;read_html()&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;zipcodes&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;rep(extracted_zipcode,&nbsp;<span style="color:#0099cc">16</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">##################################################</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Parse&nbsp;details&nbsp;of&nbsp;used&nbsp;vehicles&nbsp;from&nbsp;HTML&nbsp;page</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">##################################################</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;model_name&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;web&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_elements(<span style="color:#63a35c">".vO42pn"</span>)&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_text()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;price&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;web&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_elements(<span style="color:#63a35c">".JzvPHo"</span>)&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_text()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;car_price&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;numeric(length(price))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Loop&nbsp;through&nbsp;each&nbsp;string&nbsp;in&nbsp;the&nbsp;array</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">for</span>&nbsp;(i&nbsp;<span style="color:#a71d5d">in</span>&nbsp;<span style="color:#0099cc">1</span>:length(price))&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Extract&nbsp;the&nbsp;dollar&nbsp;amount&nbsp;from&nbsp;the&nbsp;string</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Using&nbsp;regular&nbsp;expression&nbsp;to&nbsp;match&nbsp;the&nbsp;dollar&nbsp;sign&nbsp;and&nbsp;digits&nbsp;with&nbsp;commas</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;regexpr(<span style="color:#63a35c">"\\$[0-9,]+"</span>,&nbsp;price[i])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;(match&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>&nbsp;<span style="color:#0099cc">0</span>)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;amount_str&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;substr(price[i],&nbsp;match,&nbsp;attr(match,&nbsp;<span style="color:#63a35c">"match.length"</span>))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Remove&nbsp;the&nbsp;dollar&nbsp;sign&nbsp;and&nbsp;commas,&nbsp;then&nbsp;convert&nbsp;to&nbsp;numeric</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;amount&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;<span style="color:#a71d5d">as</span>.numeric(gsub(<span style="color:#63a35c">"\\$|,"</span>,&nbsp;<span style="color:#63a35c">""</span>,&nbsp;amount_str))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;car_price[i]&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;amount</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;loc&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;web&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_elements(<span style="color:#63a35c">".umcYBP&nbsp;span"</span>)&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_text()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Initialize&nbsp;empty&nbsp;arrays&nbsp;to&nbsp;store&nbsp;extracted&nbsp;information</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;mileages&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;numeric()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cities&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;character()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;states&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;character()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Loop&nbsp;through&nbsp;the&nbsp;array&nbsp;with&nbsp;a&nbsp;step&nbsp;of&nbsp;4</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">for</span>&nbsp;(i&nbsp;<span style="color:#a71d5d">in</span>&nbsp;seq(<span style="color:#0099cc">1</span>,&nbsp;length(loc),&nbsp;by&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#0099cc">4</span>))&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Extract&nbsp;mileage&nbsp;information&nbsp;(numeric&nbsp;with&nbsp;optional&nbsp;comma)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mileage_match&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;regmatches(loc[i&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">+</span>&nbsp;<span style="color:#0099cc">1</span>],&nbsp;regexpr(<span style="color:#63a35c">"\\d+(,\\d+)*&nbsp;mi"</span>,&nbsp;loc[i&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">+</span>&nbsp;<span style="color:#0099cc">1</span>]))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;(length(mileage_match)&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>&nbsp;<span style="color:#0099cc">0</span>)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mileage_str&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;gsub(<span style="color:#63a35c">","</span>,&nbsp;<span style="color:#63a35c">""</span>,&nbsp;mileage_match[[<span style="color:#0099cc">1</span>]])&nbsp;<span style="color:#999999">#&nbsp;Remove&nbsp;commas</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mileage_str&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;gsub(<span style="color:#63a35c">"&nbsp;mi"</span>,&nbsp;<span style="color:#63a35c">""</span>,&nbsp;mileage_str)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Remove&nbsp;"&nbsp;mi"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mileages&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;c(mileages,&nbsp;<span style="color:#a71d5d">as</span>.numeric(mileage_str))&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Extract&nbsp;city&nbsp;and&nbsp;state&nbsp;information&nbsp;(city,&nbsp;state&nbsp;format)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;city_state_match&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;regmatches(loc[i&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">+</span>&nbsp;<span style="color:#0099cc">3</span>],&nbsp;regexpr(<span style="color:#63a35c">"(.+),&nbsp;([A-Z]{2})"</span>,&nbsp;loc[i&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">+</span>&nbsp;<span style="color:#0099cc">3</span>]))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;(length(city_state_match)&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>&nbsp;<span style="color:#0099cc">0</span>)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;city&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;substr(city_state_match[[<span style="color:#0099cc">1</span>]][<span style="color:#0099cc">1</span>],&nbsp;<span style="color:#0099cc">1</span>,&nbsp;nchar(city_state_match[[<span style="color:#0099cc">1</span>]][<span style="color:#0099cc">1</span>])&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;<span style="color:#0099cc">4</span>)&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Remove&nbsp;the&nbsp;last&nbsp;3&nbsp;digits</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;substr(city_state_match[[<span style="color:#0099cc">1</span>]][<span style="color:#0099cc">1</span>],&nbsp;nchar(city_state_match[[<span style="color:#0099cc">1</span>]][<span style="color:#0099cc">1</span>])&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;<span style="color:#0099cc">1</span>,&nbsp;nchar(city_state_match[[<span style="color:#0099cc">1</span>]][<span style="color:#0099cc">1</span>]))&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Extract&nbsp;the&nbsp;last&nbsp;2&nbsp;characters</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cities&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;c(cities,&nbsp;city)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;states&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;c(states,&nbsp;state)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Extract&nbsp;values&nbsp;from&nbsp;elements&nbsp;with&nbsp;"dd"&nbsp;tag&nbsp;within&nbsp;"propertyList"&nbsp;class</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;property_list&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;web&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_elements(<span style="color:#63a35c">"dl"</span>)&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_text()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Extract&nbsp;values</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;year_value&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;web&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_elements(<span style="color:#63a35c">"dt:contains('Year')&nbsp;+&nbsp;dd"</span>)&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_text()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;make_value&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;web&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_elements(<span style="color:#63a35c">"dt:contains('Make')&nbsp;+&nbsp;dd"</span>)&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_text()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;model_value&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;web&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_elements(<span style="color:#63a35c">"dt:contains('Model')&nbsp;+&nbsp;dd"</span>)&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_text()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;body_type_value&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;web&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_elements(<span style="color:#63a35c">"dt:contains('Body')&nbsp;+&nbsp;dd"</span>)&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_text()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;doors_value&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;web&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_elements(<span style="color:#63a35c">"dt:contains('Doors')&nbsp;+&nbsp;dd"</span>)&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_text()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;drivetrain_value&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;web&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_elements(<span style="color:#63a35c">"dt:contains('Drivetrain')&nbsp;+&nbsp;dd"</span>)&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_text()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;engine_value&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;web&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_elements(<span style="color:#63a35c">"dt:contains('Engine')&nbsp;+&nbsp;dd"</span>)&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_text()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;exterior_color_value&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;web&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_elements(<span style="color:#63a35c">"dt:contains('Exterior')&nbsp;+&nbsp;dd"</span>)&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_text()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;fuel_type_value&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;web&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_elements(<span style="color:#63a35c">"dt:contains('Fuel')&nbsp;+&nbsp;dd"</span>)&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_text()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;transmission_value&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;web&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_elements(<span style="color:#63a35c">"dt:contains('Transmission')&nbsp;+&nbsp;dd"</span>)&nbsp;%<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>%</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_text()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Create&nbsp;a&nbsp;data&nbsp;frame&nbsp;by&nbsp;incorporating&nbsp;an&nbsp;array&nbsp;of&nbsp;collected&nbsp;details&nbsp;for&nbsp;each&nbsp;vehicle</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;new_df&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;cbind(zipcodes,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_name,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;car_price,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mileages,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cities,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;states,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year_value,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make_value,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_value,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;body_type_value,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doors_value,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drivetrain_value,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;engine_value,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exterior_color_value,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fuel_type_value,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transmission_value&nbsp;)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;colnames(new_df)&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;colnames(df)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Append&nbsp;to&nbsp;previously&nbsp;collected&nbsp;data&nbsp;frame</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;df&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&lt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">-</span>&nbsp;rbind(df,&nbsp;new_df)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">#&nbsp;Export&nbsp;all&nbsp;collected&nbsp;data&nbsp;frames&nbsp;as&nbsp;csv&nbsp;file</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">write.csv(df,&nbsp;<span style="color:#066de2">file</span>&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#63a35c">"my_data.csv"</span>,&nbsp;row.names&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;TRUE)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#e5e5e5text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
    </div>
  </div>

<br/>
<p>Despite these efforts, it took a lot of work to collect a large amount of data in a short period due to the severe rendering time of the webpage. In the end, we abandoned the idea of using web scraping to collect used vehicles and downloaded the used vehicle data collected in September 2020 from <a href="https://www.kaggle.com/datasets/ananaymital/us-used-cars-dataset" target="_blank">Kaggle</a> and used it in this project. Although the data was collected about three years ago, our project aims to analyze various vehicle characteristics and their relationship to vehicle prices and predictions, so we focused on the amount of data and included as many vehicle characteristics as possible rather than when the data was collected. The raw data consists of a total of 3.40 million records and 66 columns. You can download the raw data via the link below.</p>
<div class="line"></div>

<h2>EDA</h2>
<p>Lorem ipsaaewfaeasdfwefaweliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
